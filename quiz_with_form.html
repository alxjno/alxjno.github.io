<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta property="og:url" content="https://codecanyon.net/item/multiple-choice-quiz-engine/9144382" />
        <meta property="og:title" content="Multiple Choice Quiz Engine" />
        <meta property="og:description" content="Can you do better?" />
        <meta property="og:image" content="https://s3.envato.com/files/109392764/quiz_thumbnail.png" />
        <title>Multiple Choice Quiz</title>
        <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed|Material+Icons" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" rel="stylesheet" type="text/css">
        <link href="lib/css/quiz_with_form.css" rel="stylesheet" type="text/css">
    </head>

    <body>
        <div id="quiz_container"></div>
        
        <script src="lib/js/jquery.js"></script>
        <script src="lib/js/jquery.easing.1.3.js"></script>
        <script src="lib/js/jquery.transit.min.js"></script>
        <script src="lib/js/essemble_core.min.js"></script>
        <script src="lib/js/mcq.js"></script>
        <script src="lib/js/quiz.js"></script>
        
        <script>
        var quiz;

        function init(){
            
            //create the screen object which loads the xml and creates all screen elements
            quiz = new Screen({id:"myQuiz", xmlPath:"lib/xml/quiz_with_form.xml"});
            
            //choose a target div
            var targetDiv = get("quiz_container");
            
            //load it
            quiz.load(targetDiv,false);
        }

        //provided as example only
        function myFormFunction(){
            var submitBtn = get("submitFormBtn");
            submitBtn.disabled = true;
            $(submitBtn).css("cursor","default");

            //do something with the email address and score
            var userEmail = get("userEmail").value;
            var scoreInHiddenForm = get("userScore").value;
            var oQuiz = quiz.getElementByType("custom")._custom;
            var scoreAsPercentage = oQuiz.getScore(true);
            var scoreAsNumberOfQsPassed = oQuiz.getScore(false);

            var msg = userEmail + "\n";
            msg += "score in hidden form: " + scoreInHiddenForm + "\n";
            msg += "score as %: " + scoreAsPercentage + "\n";
            msg += "score as number: " + scoreAsNumberOfQsPassed;
            alert(msg);

            var data = {user_email:userEmail,user_score:scoreAsPercentage}

            $.ajax({
              type: "POST",
              url: "form.php",
              data: data,
              success: successFunc,
              dataType: ""
            });
        }

        function successFunc(){
            alert("success callback");
        }

        function clearInitialText(){
            var inputVal = get("userEmail").value;
            if( inputVal == "Enter your e-mail address"){ get("userEmail").value = ""}
        }

        function evalUserEmail(){
            //simple example of enabling/disabling
            var inputVal = get("userEmail").value;
            var submitBtn = get("submitFormBtn");

            if( inputVal.indexOf("@") == -1 || inputVal.indexOf(".") == -1){
                submitBtn.disabled = true;
                $(submitBtn).css("cursor","default");
            } else {
                submitBtn.disabled = false;
                $(submitBtn).css("cursor","pointer");
            }
        }
        
        //kick off
        $(document).ready(function() {
            init();
        });
        
        </script>

    </body>
</html>

